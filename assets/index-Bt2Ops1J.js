var Re=Object.defineProperty;var Ue=(t,s,r)=>s in t?Re(t,s,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[s]=r;var ae=(t,s,r)=>Ue(t,typeof s!="symbol"?s+"":s,r);import{r as u,b as Fe,a as X}from"./vendor-DqFL8qPw.js";import{N as ve,u as _e,L as U,B as Ve,R as qe,a as z}from"./router-Cby2BMk6.js";import{A as G,R as He,H as ze,V as D,S as Ge,L as ke,C as F,F as de,a as J,b as Y,c as Je,M as Ye,D as Ne,d as me,P as xe,e as _,f as we,g as Qe,h as Xe,U as ue,i as Se,j as Ke,k as he,l as Ze,m as Te,n as De,o as re,p as ge,T as et,q as tt,r as le,s as at,t as st,u as rt,v as lt,O as nt}from"./ui-DHbhu18W.js";import{F as it,f as Pe,s as ot,e as ct}from"./utils-D1IEH3Ga.js";import{X as dt,u as V}from"./data-BEr-VgmV.js";(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))n(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const h of c.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&n(h)}).observe(document,{childList:!0,subtree:!0});function r(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function n(l){if(l.ep)return;l.ep=!0;const c=r(l);fetch(l.href,c)}})();var Ce={exports:{}},Z={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mt=u,xt=Symbol.for("react.element"),ut=Symbol.for("react.fragment"),ht=Object.prototype.hasOwnProperty,gt=mt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,pt={key:!0,ref:!0,__self:!0,__source:!0};function Ie(t,s,r){var n,l={},c=null,h=null;r!==void 0&&(c=""+r),s.key!==void 0&&(c=""+s.key),s.ref!==void 0&&(h=s.ref);for(n in s)ht.call(s,n)&&!pt.hasOwnProperty(n)&&(l[n]=s[n]);if(t&&t.defaultProps)for(n in s=t.defaultProps,s)l[n]===void 0&&(l[n]=s[n]);return{$$typeof:xt,type:t,key:c,ref:h,props:l,_owner:gt.current}}Z.Fragment=ut;Z.jsx=Ie;Z.jsxs=Ie;Ce.exports=Z;var e=Ce.exports,ne={},pe=Fe;ne.createRoot=pe.createRoot,ne.hydrateRoot=pe.hydrateRoot;const Me=u.createContext(),yt=()=>{const t=u.useContext(Me);if(!t)throw new Error("useTheme must be used within a ThemeProvider");return t},bt=({children:t})=>{const[s,r]=u.useState(()=>{const l=localStorage.getItem("theme");return l?l==="dark":window.matchMedia("(prefers-color-scheme: dark)").matches});u.useEffect(()=>{const l=window.document.documentElement;s?l.classList.add("dark"):l.classList.remove("dark"),localStorage.setItem("theme",s?"dark":"light")},[s]);const n=()=>{r(!s)};return e.jsx(Me.Provider,{value:{isDark:s,toggleTheme:n},children:t})};class L extends X.Component{constructor(r){super(r);ae(this,"handleReset",()=>{this.setState({hasError:!1,error:null,errorInfo:null})});ae(this,"handleReload",()=>{window.location.reload()});this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(r){return{hasError:!0}}componentDidCatch(r,n){this.setState({error:r,errorInfo:n}),console.error("Error caught by boundary:",r,n)}render(){return this.state.hasError?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-blue-50 to-indigo-50 dark:from-dark-900 dark:via-dark-800 dark:to-indigo-950 flex items-center justify-center p-4",children:e.jsxs("div",{className:"max-w-md w-full bg-white/80 dark:bg-dark-800/80 backdrop-blur-sm rounded-2xl shadow-xl border border-white/20 dark:border-dark-700/50 p-8 text-center",children:[e.jsx("div",{className:"p-4 bg-gradient-to-br from-red-500 to-red-600 rounded-2xl shadow-lg mb-6 mx-auto w-fit",children:e.jsx(G,{className:"w-12 h-12 text-white"})}),e.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100 mb-4",children:"Oops! Something went wrong"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:this.props.fallbackMessage||"An unexpected error occurred while loading this component."}),!1,e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[e.jsxs("button",{onClick:this.handleReset,className:"flex-1 flex items-center justify-center space-x-2 px-4 py-3 bg-primary-600 text-white rounded-xl font-semibold hover:bg-primary-700 transition-colors duration-300",children:[e.jsx(He,{className:"w-4 h-4"}),e.jsx("span",{children:"Try Again"})]}),e.jsxs("button",{onClick:()=>window.location.href="/technical-writer-dashboard/",className:"flex-1 flex items-center justify-center space-x-2 px-4 py-3 bg-gray-600 text-white rounded-xl font-semibold hover:bg-gray-700 transition-colors duration-300",children:[e.jsx(ze,{className:"w-4 h-4"}),e.jsx("span",{children:"Go Home"})]})]}),e.jsx("button",{onClick:this.handleReload,className:"mt-4 text-sm text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-200 transition-colors",children:"Or reload the entire page"})]})}):this.props.children}}const f=new dt("TechWriterDB");f.version(2).stores({timeBlocks:"++id, date, type, contentType, workPhase, startTime, endTime, projectId",projects:"++id, name, team, status, contentType, version, lastUpdated, maintenanceStatus, createdAt",weeklySummaries:"++id, weekStart, weekEnd, createdAt",preferences:"key, value"});const jt=async t=>await f.timeBlocks.add({...t,createdAt:new Date().toISOString()}),ft=async t=>await f.projects.add({...t,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()}),ye=async(t,s)=>await f.projects.update(t,{...s,updatedAt:new Date().toISOString()}),Ae=async()=>{try{const t=await f.timeBlocks.toArray(),s=await f.projects.toArray(),r=await f.weeklySummaries.toArray(),n=await f.preferences.toArray(),l={version:"1.0",exportDate:new Date().toISOString(),data:{timeBlocks:t,projects:s,weeklySummaries:r,preferences:n}},c=new Blob([JSON.stringify(l,null,2)],{type:"application/json"}),h=`techwriter-backup-${new Date().toISOString().split("T")[0]}.json`;it.saveAs(c,h),localStorage.setItem("lastBackupDate",new Date().toISOString()),D.success("Data exported successfully!")}catch(t){D.error("Export failed: "+t.message)}},vt=async t=>{try{const s=await t.text(),r=JSON.parse(s);if(!r.version||!r.data)throw new Error("Invalid backup file format");if(!window.confirm("This will replace all existing data. Are you sure you want to continue?"))return;await f.timeBlocks.clear(),await f.projects.clear(),await f.weeklySummaries.clear(),await f.preferences.clear(),r.data.timeBlocks&&await f.timeBlocks.bulkAdd(r.data.timeBlocks),r.data.projects&&await f.projects.bulkAdd(r.data.projects),r.data.weeklySummaries&&await f.weeklySummaries.bulkAdd(r.data.weeklySummaries),r.data.preferences&&await f.preferences.bulkAdd(r.data.preferences),D.success("Data imported successfully!"),setTimeout(()=>window.location.reload(),1e3)}catch(s){D.error("Import failed: "+s.message)}},kt=()=>{const{isDark:t,toggleTheme:s}=yt(),r=[{to:"/",icon:ke,label:"Dashboard"},{to:"/time",icon:F,label:"Time Tracking"},{to:"/projects",icon:de,label:"Projects"},{to:"/weekly",icon:J,label:"Weekly Summary"},{to:"/settings",icon:Y,label:"Settings"}];return e.jsx("nav",{className:"backdrop-blur-md bg-white/80 dark:bg-dark-900/80 border-b border-white/20 dark:border-dark-700/50 sticky top-0 z-50",role:"navigation","aria-label":"Main navigation",children:e.jsx("div",{className:"container mx-auto px-6",children:e.jsxs("div",{className:"flex items-center justify-between h-20",children:[e.jsxs("div",{className:"flex items-center space-x-8",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"p-2 bg-gradient-to-br from-primary-500 to-purple-600 rounded-xl",children:e.jsx(Ge,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold gradient-text",children:"TechWriter"}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 font-medium tracking-wider",children:"DASHBOARD"})]})]}),e.jsx("div",{className:"hidden md:flex space-x-2",children:r.map(n=>e.jsxs(ve,{to:n.to,className:({isActive:l})=>`nav-link flex items-center space-x-2 text-sm font-medium ${l?"active":""}`,"aria-label":`Navigate to ${n.label}`,children:[e.jsx(n.icon,{className:"w-4 h-4"}),e.jsx("span",{className:"hidden lg:inline",children:n.label})]},n.to))})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("button",{onClick:s,className:"relative p-3 rounded-xl bg-white/50 dark:bg-dark-700/50 backdrop-blur-sm border border-white/30 dark:border-dark-600/30 text-gray-600 dark:text-gray-400 hover:text-primary-600 dark:hover:text-primary-400 transition-all duration-300 hover:scale-110 hover:shadow-lg group",title:t?"Switch to light mode":"Switch to dark mode","aria-label":t?"Switch to light mode":"Switch to dark mode",children:e.jsxs("div",{className:"relative w-5 h-5",children:[e.jsx(Je,{className:`absolute inset-0 w-5 h-5 transition-all duration-300 ${t?"rotate-90 scale-0 opacity-0":"rotate-0 scale-100 opacity-100"}`}),e.jsx(Ye,{className:`absolute inset-0 w-5 h-5 transition-all duration-300 ${t?"rotate-0 scale-100 opacity-100":"-rotate-90 scale-0 opacity-0"}`})]})}),e.jsxs("button",{onClick:Ae,className:"flex items-center space-x-2 px-4 py-3 bg-white/50 dark:bg-dark-700/50 backdrop-blur-sm border border-white/30 dark:border-dark-600/30 text-gray-600 dark:text-gray-400 hover:text-primary-600 dark:hover:text-primary-400 rounded-xl text-sm font-medium transition-all duration-300 hover:scale-105 hover:shadow-lg","aria-label":"Export data backup",children:[e.jsx(Ne,{className:"w-4 h-4"}),e.jsx("span",{className:"hidden sm:inline",children:"Backup"})]})]})]})})})},Nt=()=>{const t=_e(),s=[{to:"/",icon:ke,label:"Dashboard"},{to:"/time",icon:F,label:"Time"},{to:"/projects",icon:de,label:"Projects"},{to:"/weekly",icon:J,label:"Weekly"},{to:"/settings",icon:Y,label:"Settings"}];return e.jsx("nav",{className:"mobile-nav",role:"navigation","aria-label":"Mobile navigation",children:e.jsx("div",{className:"flex justify-around",children:s.map(r=>{const n=t.pathname===r.to;return e.jsxs(ve,{to:r.to,className:`mobile-nav-item ${n?"active":""}`,"aria-label":`Navigate to ${r.label}`,children:[e.jsx(r.icon,{className:"w-5 h-5 mb-1"}),e.jsx("span",{children:r.label})]},r.to)})})})},O=t=>Pe(new Date(t),"MMM d, yyyy"),be=t=>Pe(new Date(t),"h:mm a"),T=t=>{const s=Math.floor(t/60),r=t%60;return s>0?`${s}h ${r}m`:`${r}m`},Q=(t=new Date)=>{const s=ot(t,{weekStartsOn:1}),r=ct(t,{weekStartsOn:1});return{start:s,end:r}},Be=()=>{const[t,s]=u.useState(null),[r,n]=u.useState(0),[l,c]=u.useState(!1);u.useEffect(()=>{let i=null;return l&&t?i=setInterval(()=>{n(m=>m+1)},1e3):clearInterval(i),()=>clearInterval(i)},[l,t]);const h=u.useCallback((i,m,j,b)=>{const k={type:i,projectId:m,description:j,contentType:b,date:new Date().toISOString(),startTime:new Date().toISOString(),status:"active"};s(k),n(0),c(!0),D.success(`Started ${i} block`)},[]),y=u.useCallback(async()=>{if(!t)return;const i=new Date().toISOString(),m={...t,endTime:i,duration:Math.floor(r/60),status:"completed"};try{await jt(m),D.success("Time block saved!"),s(null),n(0),c(!1)}catch{D.error("Failed to save time block")}},[t,r]),d=u.useCallback(()=>{c(!1)},[]),o=u.useCallback(()=>{c(!0)},[]);return{currentBlock:t,elapsedTime:r,isActive:l,startTimeBlock:h,endTimeBlock:y,pauseTimeBlock:d,resumeTimeBlock:o}},H=[{value:"api-docs",label:"API Documentation",icon:"🔌",color:"blue"},{value:"user-guides",label:"User Guides",icon:"📖",color:"green"},{value:"release-notes",label:"Release Notes",icon:"📋",color:"purple"},{value:"tutorials",label:"Tutorials",icon:"🎓",color:"yellow"},{value:"technical-specs",label:"Technical Specifications",icon:"⚙️",color:"gray"},{value:"reference",label:"Reference Documentation",icon:"📚",color:"indigo"},{value:"troubleshooting",label:"Troubleshooting Guides",icon:"🔧",color:"red"},{value:"onboarding",label:"Onboarding Materials",icon:"🚀",color:"teal"},{value:"other",label:"Other Documentation",icon:"📄",color:"gray"}],ie=[{value:"research",label:"Research & Discovery",icon:"🔍",color:"blue"},{value:"writing",label:"Writing & Creation",icon:"✍️",color:"green"},{value:"review-editing",label:"Review & Editing",icon:"📝",color:"yellow"},{value:"version-updates",label:"Version Updates",icon:"🔄",color:"purple"},{value:"publishing",label:"Publishing & Distribution",icon:"📤",color:"indigo"},{value:"maintenance",label:"Maintenance & Updates",icon:"🛠️",color:"orange"}],oe=[{value:"draft-1",label:"Draft v1 (Initial)",color:"gray"},{value:"draft-2",label:"Draft v2 (Technical Review)",color:"blue"},{value:"draft-3",label:"Draft v3 (Stakeholder Review)",color:"yellow"},{value:"draft-final",label:"Draft (Final Edits)",color:"orange"},{value:"published-1-0",label:"Published v1.0",color:"green"},{value:"update-minor",label:"Update in Progress (Minor)",color:"purple"},{value:"update-major",label:"Major Revision in Progress",color:"red"},{value:"deprecated",label:"Deprecated",color:"gray"}],je=[{value:"current",label:"Current (< 3 months)",color:"green",daysThreshold:90},{value:"stale",label:"Stale (3-6 months)",color:"yellow",daysThreshold:180},{value:"outdated",label:"Outdated (6+ months)",color:"orange",daysThreshold:365},{value:"critical",label:"Critical - Needs Urgent Update",color:"red",daysThreshold:null},{value:"deprecated",label:"Deprecated",color:"gray",daysThreshold:null}],K=t=>H.find(s=>s.value===t)||H[H.length-1],Oe=t=>ie.find(s=>s.value===t)||ie[0],wt=t=>oe.find(s=>s.value===t)||oe[0],St=t=>je.find(s=>s.value===t)||je[0],ee=t=>{if(!t)return"critical";const s=Math.floor((new Date-new Date(t))/(1e3*60*60*24));return s<=90?"current":s<=180?"stale":s<=365?"outdated":"critical"},S={dashboard:{recentProjects:5,todayTimeBlocks:20,documentationDebt:10,maxStatsCalculation:1e3},projectsPage:{itemsPerPage:20,maxVisible:100,searchDebounce:300},timeTracker:{recentSessions:50,historyDays:30,maxSessionsDisplay:20},weeklyReport:{maxWeeks:4,topProjects:10,maxTimeBlocks:500},general:{animationDuration:300,toastDuration:4e3,autoSaveDelay:1e3}},Tt=()=>{const t=V(async()=>{const n=new Date;n.setHours(0,0,0,0);const l=new Date(n);return l.setDate(l.getDate()+1),await f.timeBlocks.where("date").between(n.toISOString(),l.toISOString()).limit(S.dashboard.todayTimeBlocks).reverse().toArray()},[]),s=V(async()=>await f.projects.where("status").notEqual("archived").limit(S.dashboard.recentProjects).reverse().toArray(),[]),r=V(async()=>{const n=await f.projects.where("status").notEqual("archived").toArray(),l=[],c=50;for(let h=0;h<n.length&&l.length<S.dashboard.documentationDebt;h+=c){const y=n.slice(h,h+c);for(const d of y){if(l.length>=S.dashboard.documentationDebt)break;const o=ee(d.lastUpdated);(o==="outdated"||o==="critical")&&l.push({...d,maintenanceStatus:o})}h+c<n.length&&await new Promise(d=>setTimeout(d,0))}return l},[]);return{todayBlocks:t,recentActiveProjects:s,documentationDebt:r}},Dt=(t,s=S.timeTracker.recentSessions)=>{var r,n;return V(async()=>t?await f.timeBlocks.where("date").between(t.start.toISOString(),t.end.toISOString()).limit(s).reverse().toArray():[],[(r=t==null?void 0:t.start)==null?void 0:r.toISOString(),(n=t==null?void 0:t.end)==null?void 0:n.toISOString(),s])},Pt=t=>{var r,n;return V(async()=>{if(!t)return{timeBlocks:[],projects:[]};try{const l=await f.timeBlocks.where("date").between(t.start.toISOString(),t.end.toISOString()).limit(S.weeklyReport.maxTimeBlocks).toArray(),c=[...new Set(l.map(y=>y.projectId).filter(Boolean))],h=c.length>0?await f.projects.where("id").anyOf(c).toArray():[];return{timeBlocks:l,projects:h}}catch(l){return console.error("Error fetching weekly data:",l),{timeBlocks:[],projects:[]}}},[(r=t==null?void 0:t.start)==null?void 0:r.toISOString(),(n=t==null?void 0:t.end)==null?void 0:n.toISOString()])??{timeBlocks:[],projects:[]}},fe=({size:t="medium",color:s="primary",text:r=null})=>{const n={small:"w-4 h-4",medium:"w-8 h-8",large:"w-12 h-12"},l={primary:"border-primary-600",white:"border-white",gray:"border-gray-600"};return e.jsxs("div",{className:"flex flex-col items-center justify-center space-y-2",children:[e.jsx("div",{className:`
          ${n[t]} 
          border-2 
          ${l[s]} 
          border-t-transparent 
          rounded-full 
          animate-spin
        `,role:"status","aria-label":"Loading"}),r&&e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:r})]})},Ct=()=>e.jsxs("div",{className:"card animate-pulse",children:[e.jsxs("div",{className:"flex justify-between items-start mb-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"h-6 bg-gray-200 dark:bg-gray-700 rounded w-3/4 mb-2"}),e.jsx("div",{className:"h-4 bg-gray-200 dark:bg-gray-700 rounded w-1/2"})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("div",{className:"w-8 h-8 bg-gray-200 dark:bg-gray-700 rounded"}),e.jsx("div",{className:"w-8 h-8 bg-gray-200 dark:bg-gray-700 rounded"})]})]}),e.jsxs("div",{className:"space-y-3 mb-4",children:[e.jsx("div",{className:"h-4 bg-gray-200 dark:bg-gray-700 rounded w-full"}),e.jsx("div",{className:"h-4 bg-gray-200 dark:bg-gray-700 rounded w-2/3"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("div",{className:"h-6 bg-gray-200 dark:bg-gray-700 rounded-full w-20"}),e.jsx("div",{className:"h-6 bg-gray-200 dark:bg-gray-700 rounded-full w-16"})]}),e.jsx("div",{className:"h-4 bg-gray-200 dark:bg-gray-700 rounded w-24"})]})]}),Ee=({count:t=3})=>e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[...Array(t)].map((s,r)=>e.jsx(Ct,{},r))}),It=()=>{const{currentBlock:t,elapsedTime:s,isActive:r}=Be(),[n,l]=u.useState({totalMinutes:0,researchMinutes:0,writingMinutes:0,completedTasks:0}),{todayBlocks:c,recentActiveProjects:h,documentationDebt:y}=Tt(),d=u.useMemo(()=>c?c.reduce((o,i)=>(i.duration&&(o.totalMinutes+=i.duration,i.type==="research"&&(o.researchMinutes+=i.duration),i.type==="writing"&&(o.writingMinutes+=i.duration),i.status==="completed"&&(o.completedTasks+=1)),o),{totalMinutes:0,researchMinutes:0,writingMinutes:0,completedTasks:0}):{totalMinutes:0,researchMinutes:0,writingMinutes:0,completedTasks:0},[c]);return u.useEffect(()=>{l(d)},[d]),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:"Dashboard"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:O(new Date)})]}),r&&t&&e.jsxs("div",{className:"flex items-center space-x-2 bg-green-50 text-green-700 px-4 py-2 rounded-lg",children:[e.jsx(F,{className:"w-5 h-5 animate-pulse"}),e.jsxs("span",{children:["Active: ",T(Math.floor(s/60))]})]})]}),e.jsxs("div",{className:"responsive-grid lg:grid-cols-4",children:[e.jsx("div",{className:"stat-card group",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"responsive-text-sm text-gray-600 dark:text-gray-400 font-medium",children:"Total Time Today"}),e.jsx("p",{className:"text-2xl md:text-3xl font-bold gradient-text mt-2",children:T(n.totalMinutes)}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-500 mt-1",children:"+12% from yesterday"})]}),e.jsx("div",{className:"stat-icon p-3 md:p-4 bg-gradient-to-br from-primary-500 to-primary-600 rounded-2xl shadow-lg",children:e.jsx(F,{className:"w-6 h-6 md:w-8 md:h-8 text-white"})})]})}),e.jsx("div",{className:"stat-card group",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 font-medium",children:"Research Time"}),e.jsx("p",{className:"text-3xl font-bold gradient-text mt-2",children:T(n.researchMinutes)}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-500 mt-1",children:"Deep investigation"})]}),e.jsx("div",{className:"stat-icon p-4 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-2xl shadow-lg",children:e.jsx(me,{className:"w-8 h-8 text-white"})})]})}),e.jsx("div",{className:"stat-card group",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 font-medium",children:"Writing Time"}),e.jsx("p",{className:"text-3xl font-bold gradient-text mt-2",children:T(n.writingMinutes)}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-500 mt-1",children:"Creative flow"})]}),e.jsx("div",{className:"stat-icon p-4 bg-gradient-to-br from-green-500 to-emerald-600 rounded-2xl shadow-lg",children:e.jsx(xe,{className:"w-8 h-8 text-white"})})]})}),e.jsx("div",{className:"stat-card group",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 font-medium",children:"Tasks Completed"}),e.jsx("p",{className:"text-3xl font-bold gradient-text mt-2",children:n.completedTasks}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-500 mt-1",children:"Great progress!"})]}),e.jsx("div",{className:"stat-icon p-4 bg-gradient-to-br from-purple-500 to-pink-600 rounded-2xl shadow-lg",children:e.jsx(_,{className:"w-8 h-8 text-white"})})]})})]}),y&&y.length>0&&e.jsxs("div",{className:"debt-alert card border-l-4 border-orange-500 bg-gradient-to-r from-orange-50/80 to-red-50/80 dark:from-orange-900/20 dark:to-red-900/20 backdrop-blur-sm animate-slide-up",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[e.jsx("div",{className:"p-3 bg-gradient-to-br from-orange-500 to-red-600 rounded-xl animate-pulse-soft",children:e.jsx(G,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold text-orange-800 dark:text-orange-300",children:"Documentation Debt Alert"}),e.jsxs("p",{className:"text-sm text-orange-600 dark:text-orange-400",children:[y.length," document",y.length>1?"s need":" needs"," immediate attention"]})]})]}),e.jsx("div",{className:"space-y-3",children:y.slice(0,3).map((o,i)=>{const m=K(o.contentType),j=ee(o.lastUpdated);return e.jsxs("div",{className:"flex items-center justify-between p-4 bg-white/80 dark:bg-dark-800/80 backdrop-blur-sm rounded-xl border border-orange-200/50 dark:border-orange-700/30 hover:shadow-lg transition-all duration-300",style:{animationDelay:`${i*100}ms`},children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("span",{className:"text-2xl",children:m.icon}),e.jsxs("div",{children:[e.jsx("span",{className:"font-semibold text-gray-900 dark:text-gray-100",children:o.name}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:m.label})]})]}),e.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-semibold ${j==="critical"?"bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-300":"bg-orange-100 text-orange-700 dark:bg-orange-900/30 dark:text-orange-300"}`,children:j==="critical"?"🚨 Critical":"⚠️ Outdated"})]},o.id)})}),y.length>3&&e.jsx("div",{className:"mt-4 p-3 bg-white/50 dark:bg-dark-800/50 backdrop-blur-sm rounded-xl border border-orange-200/30 dark:border-orange-700/20",children:e.jsxs("p",{className:"text-sm text-orange-700 dark:text-orange-300 font-medium",children:["📚 +",y.length-3," more documents need updates"]})}),e.jsxs(U,{to:"/projects",className:"btn-primary mt-6 inline-flex items-center space-x-2 glow-effect",children:[e.jsx("span",{children:"Review Documentation Debt"}),e.jsx(G,{className:"w-4 h-4"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"card",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Today's Time Blocks"}),c===void 0?e.jsx(fe,{text:"Loading time blocks..."}):c&&c.length>0?e.jsx("div",{className:"space-y-2",children:c.map(o=>{const i=Oe(o.type),m=K(o.contentType);return e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-dark-700 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:`w-2 h-8 rounded bg-${i.color}-500`}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:o.description||`${i.label} - ${m.label}`}),e.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[m.icon," ",m.label," • ",T(o.duration||0)]})]})]}),o.status==="completed"?e.jsx(_,{className:"w-5 h-5 text-green-500"}):e.jsx(we,{className:"w-5 h-5 text-yellow-500"})]},o.id)})}):e.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"No time blocks recorded yet today."}),e.jsx(U,{to:"/time",className:"mt-4 block text-center btn-primary",children:"Start Time Tracking"})]}),e.jsxs("div",{className:"card",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Recent Projects"}),h===void 0?e.jsx(fe,{text:"Loading projects..."}):h&&h.length>0?e.jsx("div",{className:"space-y-2",children:h.map(o=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:o.name}),e.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[o.team," • ",o.status]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:[o.progress||0,"%"]}),e.jsx("div",{className:"w-20 h-2 bg-gray-200 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-primary-500 transition-all",style:{width:`${o.progress||0}%`}})})]})]},o.id))}):e.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"No recent projects."}),e.jsx(U,{to:"/projects",className:"mt-4 block text-center btn-primary",children:"View All Projects"})]})]}),e.jsxs("div",{className:"card",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Quick Actions"}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsxs(U,{to:"/time",className:"flex flex-col items-center p-4 bg-gray-50 dark:bg-dark-700 rounded-lg hover:bg-gray-100 dark:hover:bg-dark-600 transition-colors",children:[e.jsx(F,{className:"w-8 h-8 text-primary-600 mb-2"}),e.jsx("span",{className:"text-sm font-medium",children:"Start Timer"})]}),e.jsxs(U,{to:"/projects",className:"flex flex-col items-center p-4 bg-gray-50 dark:bg-dark-700 rounded-lg hover:bg-gray-100 dark:hover:bg-dark-600 transition-colors",children:[e.jsx(de,{className:"w-8 h-8 text-primary-600 mb-2"}),e.jsx("span",{className:"text-sm font-medium",children:"New Project"})]}),e.jsxs(U,{to:"/weekly",className:"flex flex-col items-center p-4 bg-gray-50 dark:bg-dark-700 rounded-lg hover:bg-gray-100 dark:hover:bg-dark-600 transition-colors",children:[e.jsx(J,{className:"w-8 h-8 text-primary-600 mb-2"}),e.jsx("span",{className:"text-sm font-medium",children:"Weekly Report"})]}),e.jsxs(U,{to:"/settings",className:"flex flex-col items-center p-4 bg-gray-50 dark:bg-dark-700 rounded-lg hover:bg-gray-100 dark:hover:bg-dark-600 transition-colors",children:[e.jsx(Y,{className:"w-8 h-8 text-primary-600 mb-2"}),e.jsx("span",{className:"text-sm font-medium",children:"Settings"})]})]})]})]})},$e=(t,s=20)=>{const[r,n]=u.useState(1),l=u.useMemo(()=>{if(!t)return{items:[],totalPages:0,hasNextPage:!1,hasPrevPage:!1};const o=(r-1)*s,i=o+s,m=t.slice(o,i),j=Math.ceil(t.length/s);return{items:m,totalPages:j,hasNextPage:r<j,hasPrevPage:r>1,currentPage:r,totalItems:t.length}},[t,r,s]),c=o=>{n(Math.max(1,Math.min(o,l.totalPages)))};return{...l,goToPage:c,nextPage:()=>c(r+1),prevPage:()=>c(r-1),reset:()=>n(1),setCurrentPage:n}},Mt=(t,{threshold:s=100,limit:r=20}={})=>{const[n,l]=u.useState([]),[c,h]=u.useState(!1),[y,d]=u.useState(!0),[o,i]=u.useState(0),[m,j]=u.useState(null),b=u.useCallback(async()=>{if(!(c||!y)){h(!0),j(null);try{const N=await t(o,r);N.length<r&&d(!1),l(M=>o===0?N:[...M,...N]),i(M=>M+1)}catch(N){j(N),console.error("Error loading more data:",N)}finally{h(!1)}}},[t,o,r,c,y]),k=u.useCallback(()=>{l([]),i(0),d(!0),j(null)},[]);u.useEffect(()=>{o===0&&b()},[]);const v=u.useCallback(N=>{const{scrollTop:M,scrollHeight:W,clientHeight:P}=N.target;W-M<=P+s&&b()},[b,s]);return{data:n,loading:c,hasMore:y,error:m,loadMore:b,reset:k,handleScroll:v}},At=({items:t,itemHeight:s=100,containerHeight:r=400,renderItem:n,overscan:l=5})=>{const[c,h]=u.useState(0),y=u.useRef(null);if(!t||t.length===0)return e.jsx("div",{className:"text-center py-8 text-gray-500",children:"No items to display"});const d=t.length*s,o=Math.ceil(r/s),i=Math.max(0,Math.floor(c/s)-l),m=Math.min(t.length-1,i+o+l*2),j=t.slice(i,m+1),b=k=>{h(k.target.scrollTop)};return e.jsx("div",{ref:y,className:"overflow-auto",style:{height:r},onScroll:b,children:e.jsx("div",{style:{height:d,position:"relative"},children:e.jsx("div",{style:{transform:`translateY(${i*s}px)`,position:"absolute",top:0,left:0,right:0},children:j.map((k,v)=>e.jsx("div",{style:{height:s},children:n(k,i+v)},i+v))})})})},Le=({currentPage:t,totalPages:s,hasNextPage:r,hasPrevPage:n,onPageChange:l,totalItems:c,itemsPerPage:h=20})=>{if(s<=1)return null;const y=(t-1)*h+1,d=Math.min(t*h,c),i=(()=>{const m=[];let b=Math.max(1,t-Math.floor(2.5)),k=Math.min(s,b+5-1);k-b+1<5&&(b=Math.max(1,k-5+1));for(let v=b;v<=k;v++)m.push(v);return m})();return e.jsxs("div",{className:"flex items-center justify-between py-4",children:[e.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Showing ",y," to ",d," of ",c," results"]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>l(t-1),disabled:!n,className:"p-2 rounded-lg border border-gray-300 dark:border-dark-600 disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50 dark:hover:bg-dark-700 transition-colors","aria-label":"Previous page",children:e.jsx(Qe,{className:"w-4 h-4"})}),i[0]>1&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>l(1),className:"px-3 py-2 rounded-lg border border-gray-300 dark:border-dark-600 hover:bg-gray-50 dark:hover:bg-dark-700 transition-colors",children:"1"}),i[0]>2&&e.jsx("span",{className:"text-gray-400",children:"..."})]}),i.map(m=>e.jsx("button",{onClick:()=>l(m),className:`px-3 py-2 rounded-lg border transition-colors ${m===t?"bg-primary-600 text-white border-primary-600":"border-gray-300 dark:border-dark-600 hover:bg-gray-50 dark:hover:bg-dark-700"}`,children:m},m)),i[i.length-1]<s&&e.jsxs(e.Fragment,{children:[i[i.length-1]<s-1&&e.jsx("span",{className:"text-gray-400",children:"..."}),e.jsx("button",{onClick:()=>l(s),className:"px-3 py-2 rounded-lg border border-gray-300 dark:border-dark-600 hover:bg-gray-50 dark:hover:bg-dark-700 transition-colors",children:s})]}),e.jsx("button",{onClick:()=>l(t+1),disabled:!r,className:"p-2 rounded-lg border border-gray-300 dark:border-dark-600 disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50 dark:hover:bg-dark-700 transition-colors","aria-label":"Next page",children:e.jsx(Xe,{className:"w-4 h-4"})})]})]})},se=X.memo(({block:t})=>{const s=Oe(t.type),r=K(t.contentType),n=s.value==="research"?me:s.value==="writing"?xe:s.value==="review-editing"?J:s.value==="version-updates"?ue:s.value==="publishing"?Se:Y;return e.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 dark:bg-dark-700 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:`p-2 bg-${s.color}-100 rounded-lg`,children:X.createElement(n,{className:`w-5 h-5 text-${s.color}-600`})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:t.description||`${s.label} - ${r.label}`}),e.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[r.icon," ",r.label," • ",be(t.startTime)," - ",t.endTime?be(t.endTime):"In progress"]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"font-medium",children:T(t.duration||0)}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:s.label})]})]})}),Bt=()=>{const{currentBlock:t,elapsedTime:s,isActive:r,startTimeBlock:n,endTimeBlock:l,pauseTimeBlock:c,resumeTimeBlock:h}=Be(),[y,d]=u.useState("writing"),[o,i]=u.useState("user-guides"),[m,j]=u.useState(""),[b,k]=u.useState(""),[v,N]=u.useState(!1),M=V(()=>f.projects.where("status").notEqual("archived").limit(50).toArray(),[]),W=u.useMemo(()=>{const x=new Date;x.setHours(0,0,0,0);const $=new Date(x);return $.setDate($.getDate()+1),{start:x,end:$}},[]),P=Dt(W,S.timeTracker.maxSessionsDisplay),I=$e(P||[],S.timeTracker.maxSessionsDisplay),q=async(x,$)=>{const We=x*$,te=new Date;return te.setDate(te.getDate()-1),await f.timeBlocks.where("date").below(te.toISOString()).reverse().offset(We).limit($).toArray()},{data:E,loading:R,hasMore:a,error:g,handleScroll:p}=Mt(q,{threshold:100,limit:S.timeTracker.recentSessions}),w=ie.map(x=>({value:x.value,label:x.label,icon:x.value==="research"?me:x.value==="writing"?xe:x.value==="review-editing"?J:x.value==="version-updates"?ue:x.value==="publishing"?Se:Y,color:x.color})),A=()=>{const x=[];return m||x.push("Please select a project"),b.trim()||x.push("Please provide a task description"),x},C=()=>{const x=A();if(x.length>0){x.forEach($=>D.error($));return}n(y,m,b,o),k("")},B=()=>{l()};return e.jsxs("div",{className:"space-y-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:"Time Tracking"}),e.jsxs("div",{className:"card text-center",children:[e.jsx("div",{className:"text-6xl font-mono font-bold text-gray-900 dark:text-gray-100 mb-4",children:T(Math.floor(s/60))}),t?e.jsxs("div",{className:"space-y-4",children:[e.jsx("p",{className:"text-lg text-gray-600 dark:text-gray-400",children:t.description||t.type}),e.jsxs("div",{className:"flex justify-center space-x-4",children:[r?e.jsxs("button",{onClick:c,className:"btn-secondary flex items-center space-x-2",children:[e.jsx(Ke,{className:"w-5 h-5"}),e.jsx("span",{children:"Pause"})]}):e.jsxs("button",{onClick:h,className:"btn-primary flex items-center space-x-2",children:[e.jsx(he,{className:"w-5 h-5"}),e.jsx("span",{children:"Resume"})]}),e.jsxs("button",{onClick:B,className:"bg-red-600 text-white px-4 py-2 rounded-lg hover:bg-red-700 transition-colors duration-200 font-medium flex items-center space-x-2",children:[e.jsx(Ze,{className:"w-5 h-5"}),e.jsx("span",{children:"Stop"})]})]})]}):e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Work Phase"}),e.jsx("div",{className:"grid grid-cols-3 gap-2",children:w.map(x=>e.jsxs("button",{onClick:()=>d(x.value),className:`p-3 rounded-lg border-2 transition-all ${y===x.value?`border-${x.color}-500 bg-${x.color}-50`:"border-gray-200 hover:border-gray-300"}`,children:[e.jsx(x.icon,{className:`w-5 h-5 mx-auto mb-1 ${y===x.value?`text-${x.color}-600`:"text-gray-600 dark:text-gray-400"}`}),e.jsx("span",{className:"text-xs text-center",children:x.label})]},x.value))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Content Type"}),e.jsx("select",{value:o,onChange:x=>i(x.target.value),className:"w-full px-4 py-2 border border-gray-300 dark:border-dark-600 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent dark:bg-dark-800 dark:text-gray-200",children:H.map(x=>e.jsxs("option",{value:x.value,children:[x.icon," ",x.label]},x.value))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Project"}),e.jsxs("select",{value:m,onChange:x=>j(x.target.value),className:"w-full px-4 py-2 border border-gray-300 dark:border-dark-600 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent dark:bg-dark-800 dark:text-gray-200","aria-describedby":"project-error",required:!0,children:[e.jsx("option",{value:"",children:"Select a project..."}),M==null?void 0:M.map(x=>e.jsxs("option",{value:x.id,children:[x.name," (",x.team,")"]},x.id))]}),!m&&e.jsx("p",{id:"project-error",className:"mt-1 text-sm text-red-600",children:"Project selection is required"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Description *"}),e.jsx("input",{type:"text",value:b,onChange:x=>k(x.target.value),placeholder:"What specific task are you working on?",className:"w-full px-4 py-2 border border-gray-300 dark:border-dark-600 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent dark:bg-dark-800 dark:text-gray-200","aria-describedby":"description-error",required:!0}),!b.trim()&&e.jsx("p",{id:"description-error",className:"mt-1 text-sm text-red-600",children:"Task description is required"})]}),e.jsxs("button",{onClick:C,className:"btn-primary flex items-center justify-center space-x-2 w-full",children:[e.jsx(he,{className:"w-5 h-5"}),e.jsx("span",{children:"Start Timer"})]})]})]}),e.jsxs("div",{className:"card",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Today's Sessions"}),P&&P.length>S.timeTracker.maxSessionsDisplay&&e.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Showing ",I.items.length," of ",P.length," sessions"]})]}),P===void 0?e.jsx(Ee,{count:3}):P&&P.length>0?e.jsxs(e.Fragment,{children:[P.length>S.timeTracker.maxSessionsDisplay?e.jsx(At,{items:I.items,itemHeight:80,containerHeight:400,renderItem:x=>e.jsx(se,{block:x},x.id)}):e.jsx("div",{className:"space-y-3",children:I.items.map(x=>e.jsx(se,{block:x},x.id))}),P.length>S.timeTracker.maxSessionsDisplay&&e.jsx("div",{className:"mt-6",children:e.jsx(Le,{currentPage:I.currentPage,totalPages:I.totalPages,hasNextPage:I.hasNextPage,hasPrevPage:I.hasPrevPage,onPageChange:I.goToPage,totalItems:I.totalItems,itemsPerPage:S.timeTracker.maxSessionsDisplay})})]}):e.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"No time blocks recorded today yet."})]}),e.jsxs("div",{className:"card",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Time Block History"}),e.jsx("button",{onClick:()=>N(!v),className:"btn-secondary",children:v?"Hide History":"Show History"})]}),v&&e.jsx("div",{children:g?e.jsxs("div",{className:"text-red-600 dark:text-red-400 text-center py-4",children:["Error loading history: ",g.message]}):E.length===0&&!R?e.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-center py-4",children:"No historical time blocks found."}):e.jsxs("div",{className:"space-y-3 max-h-96 overflow-y-auto",onScroll:p,children:[E.map(x=>e.jsx(se,{block:x},x.id)),R&&e.jsx("div",{className:"text-center py-4",children:e.jsxs("div",{className:"inline-flex items-center space-x-2",children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-primary-600"}),e.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Loading more..."})]})}),!a&&E.length>0&&e.jsx("div",{className:"text-center py-4 text-sm text-gray-500 dark:text-gray-400",children:"No more history to load"})]})})]})]})},ce=u.memo(({project:t,onEdit:s,onArchive:r,getStatusIcon:n,getStatusColor:l,getPriorityColor:c,statuses:h,priorities:y})=>{var k,v;const d=n(t.status),o=l(t.status),i=c(t.priority),m=K(t.contentType),j=wt(t.version),b=St(t.maintenanceStatus||ee(t.lastUpdated));return e.jsxs("div",{className:"card",children:[e.jsxs("div",{className:"flex justify-between items-start mb-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[e.jsx("h4",{className:"text-lg font-semibold",children:t.name}),e.jsx("span",{className:"text-lg",children:m.icon})]}),e.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[t.team," • ",m.label]}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:j.label})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{onClick:()=>s(t),className:"p-2 text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-100","aria-label":"Edit project",children:e.jsx(Te,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>r(t.id),className:"p-2 text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-100","aria-label":"Archive project",children:e.jsx(De,{className:"w-4 h-4"})})]})]}),t.description&&e.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm mb-4",children:t.description}),(b.value==="outdated"||b.value==="critical")&&e.jsxs("div",{className:`flex items-center space-x-2 p-2 mb-3 rounded-lg bg-${b.color}-50 border border-${b.color}-200`,children:[e.jsx(G,{className:`w-4 h-4 text-${b.color}-600`}),e.jsxs("span",{className:`text-sm text-${b.color}-700`,children:["Documentation Debt: ",b.label]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("span",{className:`flex items-center space-x-1 text-sm px-2 py-1 bg-${o}-100 text-${o}-700 rounded`,children:[e.jsx(d,{className:"w-4 h-4"}),e.jsx("span",{children:(k=h.find(N=>N.value===t.status))==null?void 0:k.label})]}),e.jsx("span",{className:`text-sm px-2 py-1 bg-${i}-100 text-${i}-700 rounded`,children:(v=y.find(N=>N.value===t.priority))==null?void 0:v.label})]}),t.dueDate&&e.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Due: ",O(t.dueDate)]})]}),t.lastUpdated&&e.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500 dark:text-gray-400",children:[e.jsxs("span",{children:["Last updated: ",O(t.lastUpdated)]}),e.jsx("span",{className:`px-2 py-1 rounded bg-${b.color}-100 text-${b.color}-700`,children:b.label})]})]})]})});ce.displayName="ProjectCard";const Ot=(t,s)=>{let r;return function(...l){const c=()=>{clearTimeout(r),t(...l)};clearTimeout(r),r=setTimeout(c,s)}},Et=()=>{const[t,s]=u.useState(!1),[r,n]=u.useState(null),[l,c]=u.useState(""),[h,y]=u.useState({status:"all",team:"all",contentType:"all"}),[d,o]=u.useState({name:"",team:"",description:"",status:"planning",priority:"medium",dueDate:"",contentType:"user-guides",version:"draft-1",lastUpdated:new Date().toISOString().split("T")[0]}),i=V(()=>f.projects.reverse().toArray(),[]),m=u.useMemo(()=>i?i.filter(a=>{if(l){const g=l.toLowerCase();if(!(a.name.toLowerCase().includes(g)||a.team.toLowerCase().includes(g)||a.description&&a.description.toLowerCase().includes(g)))return!1}return!(h.status!=="all"&&a.status!==h.status||h.team!=="all"&&a.team!==h.team||h.contentType!=="all"&&a.contentType!==h.contentType)}):[],[i,l,h]),j=$e(m,S.projectsPage.itemsPerPage),b=u.useMemo(()=>Ot(a=>c(a),S.projectsPage.searchDebounce),[]),k=["Team Alpha","Team Beta","Team Gamma","Other"],v=[{value:"planning",label:"Planning",color:"blue"},{value:"in-progress",label:"In Progress",color:"yellow"},{value:"review",label:"Review",color:"purple"},{value:"published",label:"Published",color:"green"},{value:"archived",label:"Archived",color:"gray"}],N=[{value:"high",label:"High",color:"red"},{value:"medium",label:"Medium",color:"yellow"},{value:"low",label:"Low",color:"green"}],M=()=>{const a=[];return d.name.trim()||a.push("Project name is required"),d.team||a.push("Team selection is required"),d.dueDate&&new Date(d.dueDate)<new Date&&a.push("Due date cannot be in the past"),a},W=async a=>{a.preventDefault();const g=M();if(g.length>0){g.forEach(p=>D.error(p));return}try{const p={...d,maintenanceStatus:ee(d.lastUpdated)};r?(await ye(r.id,p),D.success("Project updated successfully")):(await ft(p),D.success("Project created successfully")),o({name:"",team:"",description:"",status:"planning",priority:"medium",dueDate:"",contentType:"user-guides",version:"draft-1",lastUpdated:new Date().toISOString().split("T")[0]}),s(!1),n(null)}catch{D.error("Failed to save project")}},P=u.useCallback(a=>{n(a),o({name:a.name,team:a.team,description:a.description||"",status:a.status,priority:a.priority||"medium",dueDate:a.dueDate||"",contentType:a.contentType||"user-guides",version:a.version||"draft-1",lastUpdated:a.lastUpdated||new Date().toISOString().split("T")[0]}),s(!0)},[]),I=u.useCallback(async a=>{await ye(a,{status:"archived"}),D.success("Project archived")},[]),q=a=>{switch(a){case"planning":return F;case"in-progress":return we;case"review":return Te;case"published":return _;case"archived":return De;default:return ge}},E=a=>{const g=v.find(p=>p.value===a);return g?g.color:"gray"},R=a=>{const g=N.find(p=>p.value===a);return g?g.color:"gray"};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:"Projects"}),e.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[j.totalItems," total projects ",m.length!==(i==null?void 0:i.length)&&`(${m.length} filtered)`]})]}),e.jsxs("button",{onClick:()=>s(!t),className:"btn-primary flex items-center space-x-2",children:[e.jsx(re,{className:"w-5 h-5"}),e.jsx("span",{children:"New Project"})]})]}),e.jsx("div",{className:"card",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Search Projects"}),e.jsx("input",{type:"text",placeholder:"Search by name, team, or description...",onChange:a=>b(a.target.value),className:"w-full px-4 py-2 border border-gray-300 dark:border-dark-600 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent dark:bg-dark-800 dark:text-gray-200"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Status"}),e.jsxs("select",{value:h.status,onChange:a=>y(g=>({...g,status:a.target.value})),className:"w-full px-4 py-2 border border-gray-300 dark:border-dark-600 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent dark:bg-dark-800 dark:text-gray-200",children:[e.jsx("option",{value:"all",children:"All Statuses"}),v.map(a=>e.jsx("option",{value:a.value,children:a.label},a.value))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Team"}),e.jsxs("select",{value:h.team,onChange:a=>y(g=>({...g,team:a.target.value})),className:"w-full px-4 py-2 border border-gray-300 dark:border-dark-600 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent dark:bg-dark-800 dark:text-gray-200",children:[e.jsx("option",{value:"all",children:"All Teams"}),k.map(a=>e.jsx("option",{value:a,children:a},a))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Content Type"}),e.jsxs("select",{value:h.contentType,onChange:a=>y(g=>({...g,contentType:a.target.value})),className:"w-full px-4 py-2 border border-gray-300 dark:border-dark-600 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent dark:bg-dark-800 dark:text-gray-200",children:[e.jsx("option",{value:"all",children:"All Types"}),H.map(a=>e.jsx("option",{value:a.value,children:a.label},a.value))]})]})]})}),t&&e.jsxs("div",{className:"card",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:r?"Edit Project":"New Project"}),e.jsxs("form",{onSubmit:W,className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Project Name"}),e.jsx("input",{type:"text",value:d.name,onChange:a=>o({...d,name:a.target.value}),required:!0,className:"w-full px-4 py-2 border border-gray-300 dark:border-dark-600 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent dark:bg-dark-800 dark:text-gray-200","aria-describedby":"name-error"}),!d.name.trim()&&e.jsx("p",{id:"name-error",className:"mt-1 text-sm text-red-600",children:"Project name is required"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Content Type"}),e.jsx("select",{value:d.contentType,onChange:a=>o({...d,contentType:a.target.value}),className:"w-full px-4 py-2 border border-gray-300 dark:border-dark-600 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent dark:bg-dark-800 dark:text-gray-200",children:H.map(a=>e.jsxs("option",{value:a.value,children:[a.icon," ",a.label]},a.value))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Team"}),e.jsxs("select",{value:d.team,onChange:a=>o({...d,team:a.target.value}),required:!0,className:"w-full px-4 py-2 border border-gray-300 dark:border-dark-600 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent dark:bg-dark-800 dark:text-gray-200","aria-describedby":"team-error",children:[e.jsx("option",{value:"",children:"Select team..."}),k.map(a=>e.jsx("option",{value:a,children:a},a))]}),!d.team&&e.jsx("p",{id:"team-error",className:"mt-1 text-sm text-red-600",children:"Team selection is required"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Document Version"}),e.jsx("select",{value:d.version,onChange:a=>o({...d,version:a.target.value}),className:"w-full px-4 py-2 border border-gray-300 dark:border-dark-600 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent dark:bg-dark-800 dark:text-gray-200",children:oe.map(a=>e.jsx("option",{value:a.value,children:a.label},a.value))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Status"}),e.jsx("select",{value:d.status,onChange:a=>o({...d,status:a.target.value}),className:"w-full px-4 py-2 border border-gray-300 dark:border-dark-600 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent dark:bg-dark-800 dark:text-gray-200",children:v.map(a=>e.jsx("option",{value:a.value,children:a.label},a.value))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Priority"}),e.jsx("select",{value:d.priority,onChange:a=>o({...d,priority:a.target.value}),className:"w-full px-4 py-2 border border-gray-300 dark:border-dark-600 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent dark:bg-dark-800 dark:text-gray-200",children:N.map(a=>e.jsx("option",{value:a.value,children:a.label},a.value))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Due Date"}),e.jsx("input",{type:"date",value:d.dueDate,onChange:a=>o({...d,dueDate:a.target.value}),min:new Date().toISOString().split("T")[0],className:"w-full px-4 py-2 border border-gray-300 dark:border-dark-600 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent dark:bg-dark-800 dark:text-gray-200","aria-describedby":"due-date-error"}),d.dueDate&&new Date(d.dueDate)<new Date&&e.jsx("p",{id:"due-date-error",className:"mt-1 text-sm text-red-600",children:"Due date cannot be in the past"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Last Updated"}),e.jsx("input",{type:"date",value:d.lastUpdated,onChange:a=>o({...d,lastUpdated:a.target.value}),className:"w-full px-4 py-2 border border-gray-300 dark:border-dark-600 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent dark:bg-dark-800 dark:text-gray-200"})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Description"}),e.jsx("textarea",{value:d.description,onChange:a=>o({...d,description:a.target.value}),rows:3,className:"w-full px-4 py-2 border border-gray-300 dark:border-dark-600 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent dark:bg-dark-800 dark:text-gray-200"})]})]}),e.jsxs("div",{className:"flex justify-end space-x-4",children:[e.jsx("button",{type:"button",onClick:()=>{s(!1),n(null),o({name:"",team:"",description:"",status:"planning",priority:"medium",dueDate:"",contentType:"user-guides",version:"draft-1",lastUpdated:new Date().toISOString().split("T")[0]})},className:"btn-secondary",children:"Cancel"}),e.jsxs("button",{type:"submit",className:"btn-primary",children:[r?"Update":"Create"," Project"]})]})]})]}),i===void 0?e.jsx(Ee,{count:4}):m.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx(ge,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:i.length===0?"No projects yet. Create your first project!":"No projects match your filters. Try adjusting your search criteria."})]}):e.jsxs(e.Fragment,{children:[m.length>S.projectsPage.maxVisible?e.jsx(VirtualizedList,{items:j.items,itemHeight:200,containerHeight:600,renderItem:a=>e.jsx("div",{className:"p-2",children:e.jsx(ce,{project:a,onEdit:P,onArchive:I,getStatusIcon:q,getStatusColor:E,getPriorityColor:R,statuses:v,priorities:N},a.id)})}):e.jsx("div",{className:"responsive-grid",children:j.items.map(a=>e.jsx(ce,{project:a,onEdit:P,onArchive:I,getStatusIcon:q,getStatusColor:E,getPriorityColor:R,statuses:v,priorities:N},a.id))}),e.jsx(Le,{currentPage:j.currentPage,totalPages:j.totalPages,hasNextPage:j.hasNextPage,hasPrevPage:j.hasPrevPage,onPageChange:j.goToPage,totalItems:j.totalItems,itemsPerPage:S.projectsPage.itemsPerPage})]})]})},$t=()=>{const[t,s]=u.useState(Q()),[r,n]=u.useState([""]),[l,c]=u.useState([""]),[h,y]=u.useState(""),{timeBlocks:d,projects:o}=Pt(t),i=u.useMemo(()=>{if(!d||d.length===0)return{total:0,deepWork:0,meetings:0,planning:0,research:0,writing:0,review:0};const a=100;let g={total:0,deepWork:0,meetings:0,planning:0,research:0,writing:0,review:0};for(let p=0;p<d.length;p+=a){const A=d.slice(p,p+a).reduce((C,B)=>{if(B.duration)switch(C.total+=B.duration,B.type){case"research":C.research+=B.duration;break;case"writing":C.writing+=B.duration;break;case"review-editing":C.review+=B.duration;break;case"deep-work":C.deepWork+=B.duration;break;case"meeting":C.meetings+=B.duration;break;case"planning":C.planning+=B.duration;break}return C},{total:0,deepWork:0,meetings:0,planning:0,research:0,writing:0,review:0});Object.keys(A).forEach(C=>{g[C]+=A[C]})}return g},[d]),m=u.useMemo(()=>{if(!d||!o||d.length===0)return[];const a=new Map;return d.forEach(p=>{if(p.projectId&&p.duration){const w=a.get(p.projectId)||0;a.set(p.projectId,w+p.duration)}}),Array.from(a.entries()).map(([p,w])=>{const A=o.find(C=>C.id===parseInt(p));return{projectName:(A==null?void 0:A.name)||"Unknown Project",team:(A==null?void 0:A.team)||"",minutes:w,projectId:p}}).sort((p,w)=>w.minutes-p.minutes).slice(0,S.weeklyReport.topProjects)},[d,o]),j=()=>{n([...r,""])},b=a=>{n(r.filter((g,p)=>p!==a))},k=(a,g)=>{const p=[...r];p[a]=g,n(p)},v=()=>{c([...l,""])},N=a=>{c(l.filter((g,p)=>p!==a))},M=(a,g)=>{const p=[...l];p[a]=g,c(p)},W=()=>{const a=r.filter(w=>w.trim()!==""),g=l.filter(w=>w.trim()!==""),p=`Weekly Summary - ${O(t.start)} to ${O(t.end)}

Time Breakdown:
• Total Time: ${T(i.total)}
• Deep Work: ${T(i.deepWork)}
• Meetings: ${T(i.meetings)}
• Planning: ${T(i.planning)}

Project Time Allocation:
${m.map(w=>`• ${w.projectName} (${w.team}): ${T(w.minutes)}`).join(`
`)}

Completed This Week:
${a.map(w=>`• ${w}`).join(`
`)}

In Progress:
${g.map(w=>`• ${w}`).join(`
`)}

Generated on ${O(new Date)}`;y(p)},P=async()=>{try{await navigator.clipboard.writeText(h),D.success("Summary copied to clipboard!")}catch{D.error("Failed to copy to clipboard")}},I=()=>{const a=`Weekly Summary - ${O(t.start)} to ${O(t.end)}`,g=encodeURIComponent(h);window.open(`mailto:?subject=${encodeURIComponent(a)}&body=${g}`)};u.useEffect(()=>{i.total>0&&W()},[i,r,l,m]);const q=()=>{const a=new Date(t.start);a.setDate(a.getDate()-7),s(Q(a))},E=()=>{const a=new Date(t.start);a.setDate(a.getDate()+7),s(Q(a))},R=()=>{s(Q())};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:"Weekly Summary"}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("button",{onClick:q,className:"btn-secondary",children:"← Previous"}),e.jsxs("span",{className:"font-medium",children:[O(t.start)," - ",O(t.end)]}),e.jsx("button",{onClick:E,className:"btn-secondary",children:"Next →"}),e.jsx("button",{onClick:R,className:"btn-primary",children:"Current Week"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsx("div",{className:"card",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Total Time"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:T(i.total)})]}),e.jsx(F,{className:"w-8 h-8 text-primary-500"})]})}),e.jsx("div",{className:"card",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Research & Writing"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:T(i.research+i.writing)}),e.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-500",children:[i.total>0&&Math.round((i.research+i.writing)/i.total*100),"%"]})]}),e.jsx(et,{className:"w-8 h-8 text-purple-500"})]})}),e.jsx("div",{className:"card",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Review & Editing"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:T(i.review)}),e.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-500",children:[i.total>0&&Math.round(i.review/i.total*100),"%"]})]}),e.jsx(_,{className:"w-8 h-8 text-green-500"})]})}),e.jsx("div",{className:"card",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Meetings & Planning"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:T(i.meetings+i.planning)}),e.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-500",children:[i.total>0&&Math.round((i.meetings+i.planning)/i.total*100),"%"]})]}),e.jsx(tt,{className:"w-8 h-8 text-blue-500"})]})})]}),e.jsxs("div",{className:"card",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Project Time Allocation"}),m.length>=S.weeklyReport.topProjects&&e.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Top ",S.weeklyReport.topProjects," projects"]})]}),m.length>0?e.jsxs("div",{className:"space-y-3",children:[m.map((a,g)=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-dark-700 rounded-lg",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"font-medium truncate",children:a.projectName}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 truncate",children:a.team})]}),e.jsxs("div",{className:"text-right ml-4",children:[e.jsx("p",{className:"font-medium",children:T(a.minutes)}),e.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[i.total>0?Math.round(a.minutes/i.total*100):0,"%"]})]})]},a.projectId||g)),e.jsx("div",{className:"mt-4 p-3 bg-blue-50 dark:bg-blue-900/20 rounded-lg border border-blue-200 dark:border-blue-700",children:e.jsxs("div",{className:"flex justify-between items-center text-sm",children:[e.jsx("span",{className:"text-blue-700 dark:text-blue-300",children:"Weekly Efficiency"}),e.jsxs("span",{className:"font-medium text-blue-800 dark:text-blue-200",children:[m.length," active projects"]})]})})]}):e.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"No time tracked this week."})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"card",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Completed This Week"}),e.jsxs("button",{onClick:j,className:"btn-primary flex items-center space-x-2",children:[e.jsx(re,{className:"w-4 h-4"}),e.jsx("span",{children:"Add"})]})]}),e.jsx("div",{className:"space-y-2",children:r.map((a,g)=>e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("input",{type:"text",value:a,onChange:p=>k(g,p.target.value),placeholder:"What did you complete?",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"}),e.jsx("button",{onClick:()=>b(g),className:"p-2 text-gray-600 dark:text-gray-400 hover:text-red-600 dark:hover:text-red-400",children:e.jsx(le,{className:"w-4 h-4"})})]},g))})]}),e.jsxs("div",{className:"card",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"In Progress"}),e.jsxs("button",{onClick:v,className:"btn-primary flex items-center space-x-2",children:[e.jsx(re,{className:"w-4 h-4"}),e.jsx("span",{children:"Add"})]})]}),e.jsx("div",{className:"space-y-2",children:l.map((a,g)=>e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("input",{type:"text",value:a,onChange:p=>M(g,p.target.value),placeholder:"What are you working on?",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"}),e.jsx("button",{onClick:()=>N(g),className:"p-2 text-gray-600 dark:text-gray-400 hover:text-red-600 dark:hover:text-red-400",children:e.jsx(le,{className:"w-4 h-4"})})]},g))})]})]}),h&&e.jsxs("div",{className:"card",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Email Summary"}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsxs("button",{onClick:P,className:"btn-secondary flex items-center space-x-2",children:[e.jsx(at,{className:"w-4 h-4"}),e.jsx("span",{children:"Copy"})]}),e.jsxs("button",{onClick:I,className:"btn-primary flex items-center space-x-2",children:[e.jsx(st,{className:"w-4 h-4"}),e.jsx("span",{children:"Email"})]})]})]}),e.jsx("pre",{className:"bg-gray-50 dark:bg-dark-700 p-4 rounded-lg text-sm whitespace-pre-wrap",children:h})]})]})},Lt=()=>{const[t,s]=u.useState(localStorage.getItem("lastBackupDate")),[r,n]=u.useState(!1),l=u.useRef(null),c=async()=>{await Ae(),s(new Date().toISOString())},h=()=>{var m;(m=l.current)==null||m.click()},y=async m=>{var b;const j=(b=m.target.files)==null?void 0:b[0];j&&(await vt(j),l.current&&(l.current.value=""))},d=async()=>{if(!r){n(!0);return}try{await f.timeBlocks.clear(),await f.projects.clear(),await f.weeklySummaries.clear(),await f.preferences.clear(),localStorage.removeItem("lastBackupDate"),s(null),D.success("All data cleared successfully"),n(!1),setTimeout(()=>window.location.reload(),1e3)}catch(m){D.error("Failed to clear data: "+m.message),n(!1)}},o=()=>{n(!1)},i=m=>m?new Date(m).toLocaleString():"Never";return e.jsxs("div",{className:"space-y-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:"Settings"}),e.jsxs("div",{className:"card",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[e.jsx(rt,{className:"w-6 h-6 text-primary-600"}),e.jsx("h3",{className:"text-lg font-semibold",children:"Data Management"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"bg-gray-50 dark:bg-dark-700 p-4 rounded-lg",children:[e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Last Backup"}),e.jsx("p",{className:"font-medium dark:text-gray-200",children:i(t)})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 border border-gray-200 dark:border-dark-600 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium",children:"Export Data"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Download a backup of all your data as a JSON file"})]}),e.jsxs("button",{onClick:c,className:"btn-primary flex items-center space-x-2",children:[e.jsx(Ne,{className:"w-4 h-4"}),e.jsx("span",{children:"Export"})]})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 border border-gray-200 dark:border-dark-600 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium",children:"Import Data"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Restore data from a backup file (this will replace all existing data)"})]}),e.jsxs("div",{children:[e.jsx("input",{ref:l,type:"file",accept:".json",onChange:y,className:"hidden"}),e.jsxs("button",{onClick:h,className:"btn-secondary flex items-center space-x-2",children:[e.jsx(ue,{className:"w-4 h-4"}),e.jsx("span",{children:"Import"})]})]})]})]})]}),e.jsxs("div",{className:"card",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[e.jsx(lt,{className:"w-6 h-6 text-green-600"}),e.jsx("h3",{className:"text-lg font-semibold",children:"Privacy & Storage"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx(_,{className:"w-5 h-5 text-green-500 mt-0.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"Local Storage Only"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"All your data is stored locally in your browser using IndexedDB. No data is sent to external servers."})]})]}),e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx(_,{className:"w-5 h-5 text-green-500 mt-0.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"No Analytics or Tracking"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"This application doesn't use any analytics, tracking, or third-party services."})]})]}),e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx(_,{className:"w-5 h-5 text-green-500 mt-0.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"Offline Capable"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"The application works completely offline after the initial load."})]})]})]})]}),e.jsxs("div",{className:"card border-red-200",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[e.jsx(G,{className:"w-6 h-6 text-red-600"}),e.jsx("h3",{className:"text-lg font-semibold text-red-600",children:"Danger Zone"})]}),e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:[e.jsx("h4",{className:"font-medium text-red-800 mb-2",children:"Clear All Data"}),e.jsx("p",{className:"text-sm text-red-700 mb-4",children:"This will permanently delete all your time blocks, projects, and settings. This action cannot be undone. Make sure to export your data first!"}),r?e.jsxs("div",{className:"space-y-3",children:[e.jsx("p",{className:"font-medium text-red-800",children:"Are you absolutely sure? This will delete everything!"}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsx("button",{onClick:d,className:"bg-red-600 text-white px-4 py-2 rounded-lg hover:bg-red-700 transition-colors duration-200 font-medium",children:"Yes, Delete Everything"}),e.jsx("button",{onClick:o,className:"btn-secondary",children:"Cancel"})]})]}):e.jsxs("button",{onClick:d,className:"bg-red-600 text-white px-4 py-2 rounded-lg hover:bg-red-700 transition-colors duration-200 font-medium flex items-center space-x-2",children:[e.jsx(le,{className:"w-4 h-4"}),e.jsx("span",{children:"Clear All Data"})]})]})})]}),e.jsxs("div",{className:"card",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"About"}),e.jsxs("div",{className:"space-y-2 text-sm text-gray-600 dark:text-gray-400",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Version:"})," 1.0.0"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Built with:"})," React, Vite, Tailwind CSS, Dexie.js"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"License:"})," MIT"]}),e.jsx("p",{children:"A productivity dashboard designed for technical writers to track time, manage projects, and generate weekly reports."})]})]})]})};function Wt(){return e.jsx(L,{fallbackMessage:"The Technical Writer Dashboard encountered an error. Please try refreshing the page.",children:e.jsx(bt,{children:e.jsx(Ve,{basename:"/technical-writer-dashboard/",children:e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-blue-50 to-indigo-50 dark:from-dark-900 dark:via-dark-800 dark:to-indigo-950 transition-all duration-500",children:[e.jsx(L,{fallbackMessage:"Navigation component failed to load.",children:e.jsx(kt,{})}),e.jsx("main",{className:"container mx-auto px-4 py-8 pb-20 md:pb-8",children:e.jsxs(qe,{children:[e.jsx(z,{path:"/",element:e.jsx(L,{fallbackMessage:"Dashboard component failed to load.",children:e.jsx(It,{})})}),e.jsx(z,{path:"/time",element:e.jsx(L,{fallbackMessage:"Time Tracker component failed to load.",children:e.jsx(Bt,{})})}),e.jsx(z,{path:"/projects",element:e.jsx(L,{fallbackMessage:"Project Manager component failed to load.",children:e.jsx(Et,{})})}),e.jsx(z,{path:"/weekly",element:e.jsx(L,{fallbackMessage:"Weekly Summary component failed to load.",children:e.jsx($t,{})})}),e.jsx(z,{path:"/settings",element:e.jsx(L,{fallbackMessage:"Settings component failed to load.",children:e.jsx(Lt,{})})})]})}),e.jsx(L,{fallbackMessage:"Mobile navigation failed to load.",children:e.jsx(Nt,{})}),e.jsx(nt,{position:"top-right",toastOptions:{className:"dark:bg-dark-800 dark:text-white",style:{background:"var(--toast-bg)",color:"var(--toast-color)"}}})]})})})})}ne.createRoot(document.getElementById("root")).render(e.jsx(X.StrictMode,{children:e.jsx(Wt,{})}));
